(this["webpackJsonpauto-complete"]=this["webpackJsonpauto-complete"]||[]).push([[0],{52:function(t,e,c){},53:function(t,e,c){},80:function(t,e,c){"use strict";c.r(e);var a=c(0),r=c.n(a),n=c(17),s=c.n(n),o=(c(52),c(20)),i=(c(53),c(22)),u=c(7),d=c(9),j=c.n(d),l=c(15),b=c(14),p=c(86),O=c(87),f=c(2),h=function(t){return Object(f.jsxs)(p.a,{bg:"light",expand:"lg",children:[Object(f.jsx)(i.b,{to:"/",className:"navbar-brand",children:"Auto Complete Task"}),Object(f.jsx)(p.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(f.jsxs)(p.a.Collapse,{id:"responsive-navbar-nav",children:[Object(f.jsx)(O.a,{className:"mr-auto"}),Object(f.jsx)(O.a,{children:Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(i.c,{to:"/cart",className:"nav-link",children:"Cart"})})})]})]})},x=function(t){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(h,{}),t.children]})},m=c(82),v=c(83),g=c(84),y=c(88),C=c(85),T=c(45),_=c.n(T),E="".concat("https://auto-complete-mern.herokuapp.com/","/api/v1"),S=_.a.create({baseURL:E}),I="GET_ALL_PRODUCT_REQUEST",A="GET_ALL_PRODUCT_SUCCESS",R="GET_ALL_PRODUCT_FAILURE",k="ADD_TO_CART_REQUEST",w="ADD_TO_CART_SUCCESS",D="ADD_TO_CART_FAILURE",U="GET_CART_ITEM_REQUEST",L="GET_CART_ITEM_SUCCESS",P="RESET_CART",N=c(6),F=c(23),G={products:[],loading:!1,error:""},q={cartItems:[],updatingCart:!1,error:null},M=Object(F.b)({product:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case I:t=Object(N.a)(Object(N.a)({},t),{},{loading:!0});break;case A:t=Object(N.a)(Object(N.a)({},t),{},{products:e.payload.products,loading:!1});break;case R:t=Object(N.a)(Object(N.a)({},t),{},{error:e.payload.error})}return t},cart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case k:t=Object(N.a)(Object(N.a)({},t),{},{updatingCart:!0});break;case w:t=Object(N.a)(Object(N.a)({},t),{},{cartItems:e.payload.cartItems,updatingCart:!1});break;case D:t=Object(N.a)(Object(N.a)({},t),{},{updatingCart:!1,error:e.payload.error});break;case U:t=Object(N.a)(Object(N.a)({},t),{},{updatingCart:!0});break;case L:t=Object(N.a)(Object(N.a)({},t),{},{updatingCart:!0,cartItems:e.payload.cartItems});break;case P:t=Object(N.a)({},q)}return t}}),Q=c(46),J=Object(F.c)(M,Object(F.a)(Q.a)),z=function(){return function(){var t=Object(l.a)(j.a.mark((function t(e){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:U}),t.next=4,S.post("/user/getCartItems");case 4:200===(c=t.sent).status&&e({type:L,payload:{cartItems:c.data}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},B=function(t){var e=Object(b.b)(),c=Object(b.c)((function(t){return t.product})),r=Object(a.useState)([]),n=Object(o.a)(r,2),s=n[0],i=n[1],u=Object(a.useState)([]),d=Object(o.a)(u,2),p=d[0],O=d[1];Object(a.useEffect)((function(){e(function(){var t=Object(l.a)(j.a.mark((function t(e){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:I}),t.next=3,S.get("/allproducts");case 3:c=t.sent,console.log("RESPONSE",c.data),200===c.status?e({type:A,payload:{products:c.data}}):e({type:R,payload:{error:c.data.error}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(a.useEffect)((function(){(function(){var t=Object(l.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i(c.products.data);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[c.products.data]),console.log("PRODUCT",c.products.data);return Object(f.jsx)(x,{children:Object(f.jsxs)(m.a,{style:{background:"#fff"},className:"text-center",children:[Object(f.jsx)(v.a,{style:{marginTop:"50px"},children:Object(f.jsxs)(g.a,{md:{span:6,offset:3},children:[Object(f.jsx)("h3",{children:"Search Your Product"}),Object(f.jsx)(y.a,{type:"text",placeholder:"ex: sakthi masala",size:"sm",className:"mb-3",onChange:function(t){return function(t){var e=s.filter((function(e){var c=new RegExp("".concat(t),"gi");return e.product.match(c)}));O(e)}(t.target.value)}})]})}),p&&p.map((function(t,c){return Object(f.jsx)("div",{children:Object(f.jsx)(g.a,{style:{border:"1px solid #ddd",textAlign:"left",padding:"5px",fontSize:"13px"},md:{span:6,offset:3},children:Object(f.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(f.jsx)("div",{children:t.product}),Object(f.jsx)("div",{children:Object(f.jsx)(C.a,{value:t.product,varient:"primary",onClick:function(){var c=t._id,a=t.product;e(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var c=Object(l.a)(j.a.mark((function c(a){var r,n,s,o,i;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r=J.getState(),n=r.cart.cartItems,s=n[t._id]?parseInt(n[t._id].qty+e):1,n[t._id]=Object(N.a)(Object(N.a)({},t),{},{qty:s}),a({type:k}),o={cartItems:[{product:t._id,quantity:s}]},console.log("PAYLOAD_ADDTOCART",o),c.next=8,S.post("/cart/addtocart",o);case 8:i=c.sent,console.log(i),201===i.status&&a(z()),localStorage.setItem("cart",JSON.stringify(n)),console.log("addToCart::",n),a({type:w,payload:{cartItems:n}});case 14:case"end":return c.stop()}}),c)})));return function(t){return c.apply(this,arguments)}}()}({_id:c,product:a}))},children:"Add"})})]})})},c)}))]})})},Y=function(t){var e=Object(b.c)((function(t){return t.cart})),c=Object(a.useState)(e.cartItems),r=Object(o.a)(c,2),n=r[0];r[1];return console.log("CARDITEMS",n),Object(f.jsxs)(x,{children:[Object(f.jsx)("h3",{children:"Cart Page"}),n.cart.map((function(t,e){return Object(f.jsx)("div",{children:t.cartItems.map((function(t,e){return Object(f.jsxs)("div",{style:{border:"1px solid #ddd",width:"30%"},children:[Object(f.jsx)("div",{children:Object(f.jsxs)("h5",{children:["Product Id : ",Object(f.jsx)("span",{children:t.product})]})}),Object(f.jsx)("div",{children:Object(f.jsxs)("h4",{children:["Quantity : ",Object(f.jsx)("span",{children:t.quantity})]})})]},e)}))},e)}))]})};var H=function(){var t=Object(b.b)(),e=Object(b.c)((function(t){return t.cart})),c=Object(a.useState)(e.cartItems),r=Object(o.a)(c,2),n=(r[0],r[1]);return Object(a.useEffect)((function(){t(z()),n(e.cartItems)}),[e.cartItems]),Object(a.useEffect)((function(){}),[]),Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(i.a,{children:Object(f.jsxs)(u.c,{children:[Object(f.jsx)(u.a,{path:"/",exact:!0,component:B}),Object(f.jsx)(u.a,{path:"/cart",component:Y})]})})})},K=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,89)).then((function(e){var c=e.getCLS,a=e.getFID,r=e.getFCP,n=e.getLCP,s=e.getTTFB;c(t),a(t),r(t),n(t),s(t)}))};window.store=J,s.a.render(Object(f.jsx)(b.a,{store:J,children:Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(H,{})})}),document.getElementById("root")),K()}},[[80,1,2]]]);
//# sourceMappingURL=main.76b3c5a1.chunk.js.map